(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{795:function(s,t,a){"use strict";a.r(t);var n=a(10),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),a("p",[s._v("Gradle是一个基于Apache Ant和Apache Maven概念的项目自动化建构工具。它使用一种基于Groovy的特定领域语言(DSL)来声明项目设置，抛弃了基于XML的各种繁琐配置。")]),s._v(" "),a("p",[s._v("Gradle是Android Studio标配的构建系统，想要熟练使用Android Studio进行Android开发，必须对Gradle有一定程度的认知。")]),s._v(" "),a("h2",{attrs:{id:"多文件共享变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多文件共享变量"}},[s._v("#")]),s._v(" 多文件共享变量")]),s._v(" "),a("p",[s._v("Gradle开发中经常会涉及到很多相同的配置，例如不同module中都要配置compileSdkVersion、buildToolsVersion等变量值。一般情况下，它们的取值都应该保持一致，为了不让修改都要经过每个module文件，我们可以定义一个名为config.gradle的文件，并放在项目根目录中，文件内容可以如下：")]),s._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("div",{staticClass:"custom-style-wrapper window-controls"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[a("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[a("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),a("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),a("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[s._v("project"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Java相关")]),s._v("\n    javaVersion "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" JavaVersion"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("VERSION_1_8\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//Android")]),s._v("\n    compileSdkVersion "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\n    buildToolsVersion "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[s._v('"25.0.1"')]),s._v("\n    minSdkVersion "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("\n    targetSdkVersion "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//混淆")]),s._v("\n    minifyEnabled "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//其它")]),s._v("\n    sourceCompatibility "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" javaVersion\n    targetCompatibility "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" javaVersion\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")]),a("CodeResult",{attrs:{lang:"groovy",code:"project.ext%7B%0A%20%20%20%20%2F%2FJava%E7%9B%B8%E5%85%B3%0A%20%20%20%20javaVersion%20%3D%20JavaVersion.VERSION_1_8%0A%0A%20%20%20%20%2F%2FAndroid%0A%20%20%20%20compileSdkVersion%20%3D%2025%0A%20%20%20%20buildToolsVersion%20%3D%20%2225.0.1%22%0A%20%20%20%20minSdkVersion%20%3D%2014%0A%20%20%20%20targetSdkVersion%20%3D%2025%0A%0A%20%20%20%20%2F%2F%E6%B7%B7%E6%B7%86%0A%20%20%20%20minifyEnabled%20%3D%20false%0A%0A%20%20%20%20%2F%2F%E5%85%B6%E5%AE%83%0A%20%20%20%20sourceCompatibility%20%3D%20javaVersion%0A%20%20%20%20targetCompatibility%20%3D%20javaVersion%0A%7D"}})],1),a("p",[s._v("工程中的module的build.gradle文件引入全局配置项如下：")]),s._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("div",{staticClass:"custom-style-wrapper window-controls"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[a("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[a("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),a("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),a("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[s._v("apply plugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'com.android.application'")]),s._v("\napply from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../config.gradle'")]),s._v("\n\nandroid "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    compileSdkVersion project"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("compileSdkVersion\n    buildToolsVersion project"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("buildToolsVersion\n    defaultConfig "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        applicationId "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[s._v('"com.zyao.test"')]),s._v("\n        minSdkVersion project"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("minSdkVersion\n        targetSdkVersion project"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("targetSdkVersion\n        versionCode "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        versionName "),a("span",{pre:!0,attrs:{class:"token string gstring"}},[s._v('"1.0"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    buildTypes "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        release "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            minifyEnabled project"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("minifyEnabled\n            proguardFiles "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getDefaultProguardFile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'proguard-android.txt'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'proguard-rules.pro'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")]),a("CodeResult",{attrs:{lang:"groovy",code:"apply%20plugin%3A%20'com.android.application'%0Aapply%20from%3A%20'..%2Fconfig.gradle'%0A%0Aandroid%20%7B%0A%20%20%20%20compileSdkVersion%20project.ext.compileSdkVersion%0A%20%20%20%20buildToolsVersion%20project.ext.buildToolsVersion%0A%20%20%20%20defaultConfig%20%7B%0A%20%20%20%20%20%20%20%20applicationId%20%22com.zyao.test%22%0A%20%20%20%20%20%20%20%20minSdkVersion%20project.ext.minSdkVersion%0A%20%20%20%20%20%20%20%20targetSdkVersion%20project.ext.targetSdkVersion%0A%20%20%20%20%20%20%20%20versionCode%201%0A%20%20%20%20%20%20%20%20versionName%20%221.0%22%0A%20%20%20%20%7D%0A%20%20%20%20buildTypes%20%7B%0A%20%20%20%20%20%20%20%20release%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20minifyEnabled%20project.ext.minifyEnabled%0A%20%20%20%20%20%20%20%20%20%20%20%20proguardFiles%20getDefaultProguardFile('proguard-android.txt')%2C%20'proguard-rules.pro'%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%7D"}})],1),a("h2",{attrs:{id:"高级配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#高级配置"}},[s._v("#")]),s._v(" 高级配置")]),s._v(" "),a("p",[s._v("在多个module项目中，每次都要引入"),a("code",[s._v("apply from: '../config.gradle'")]),s._v("显然非常的繁琐，下面介绍一种常见解决方案在根目录的build.gradle文件中配置"),a("code",[s._v("subprojects")]),s._v("，如下：")]),s._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("div",{staticClass:"custom-style-wrapper window-controls"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[a("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[a("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),a("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),a("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[s._v("subprojects "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    apply from"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'../config.gradle'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")]),a("CodeResult",{attrs:{lang:"groovy",code:"subprojects%20%7B%0A%20%20%20%20apply%20from%3A%20'..%2Fconfig.gradle'%0A%7D"}})],1),a("h2",{attrs:{id:"aar库引用配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aar库引用配置"}},[s._v("#")]),s._v(" aar库引用配置")]),s._v(" "),a("p",[a("code",[s._v("aar")]),s._v("是在Android Studio中开始引入的一种全新的文件类型，它其实就是一个压缩文件，里面包含了jar文件和相关资源文件。")]),s._v(" "),a("p",[s._v("我们在项目中引入本地aar文件的配置方式如下：")]),s._v(" "),a("ul",[a("li",[s._v("首先，在根目录中的build.gradle中配置如下参数：")])]),s._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("div",{staticClass:"custom-style-wrapper window-controls"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[a("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[a("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),a("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),a("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[s._v("repositories "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        flatDir "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            dirs "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'libs路径'")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")]),a("CodeResult",{attrs:{lang:"groovy",code:"repositories%20%7B%0A%20%20%20%20%20%20%20%20flatDir%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20dirs%20'libs%E8%B7%AF%E5%BE%84'%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D"}})],1),a("ul",[a("li",[s._v("然后，在module中的build.gradle中就可以配置依赖文件了，如下：")])]),s._v(" "),a("div",{staticClass:"language-groovy line-numbers-mode"},[a("div",{staticClass:"custom-style-wrapper window-controls"},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[a("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[a("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),a("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),a("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[s._v("dependencies "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("compile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'输入你引入的文件名'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'aar'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")]),a("CodeResult",{attrs:{lang:"groovy",code:"dependencies%20%7B%0A%20%20%20%20...%0A%20%20%20%20compile(name%3A%20'%E8%BE%93%E5%85%A5%E4%BD%A0%E5%BC%95%E5%85%A5%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D'%2C%20ext%3A%20'aar')%0A%20%20%20%20...%0A%7D"}})],1),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),a("p",[s._v("完美，完美，是不是很完美...")]),s._v(" "),a("p",[s._v("小伙伴们，加油了！！！")]),s._v(" "),a("h2",{attrs:{id:"author-blog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#author-blog"}},[s._v("#")]),s._v(" Author Blog")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://zyao89.cn",target:"_blank",rel:"noopener noreferrer"}},[s._v("zyao89.cn"),a("OutboundLink")],1)]),s._v(" "),a("hr"),s._v(" "),a("p",[a("code",[s._v("作者：Zyao89；转载请保留此行，谢谢；")]),a("br"),s._v(" "),a("code",[s._v("原文网站：https://www.zyao89.cn")]),a("br"),s._v(" "),a("code",[s._v("祝你好运，谢谢支持")])])])}),[],!1,null,null,null);t.default=r.exports}}]);