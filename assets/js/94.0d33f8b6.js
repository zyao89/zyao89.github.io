(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{772:function(s,t,e){"use strict";e.r(t);var r=e(10),a=Object(r.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),e("p",[s._v("安全增强型 Linux（Security-Enhanced Linux）简称 SELinux，它是一个 Linux 内核模块，也是 Linux 的一个安全子系统。")]),s._v(" "),e("p",[s._v("SELinux 主要由美国国家安全局开发。2.6 及以上版本的 Linux 内核都已经集成了 SELinux 模块。")]),s._v(" "),e("p",[s._v("SELinux 的结构及配置非常复杂，而且有大量概念性的东西，要学精难度较大。很多 Linux 系统管理员嫌麻烦都把 SELinux 关闭了。")]),s._v(" "),e("p",[s._v('如果可以熟练掌握 SELinux 并正确运用，我觉得整个系统基本上可以到达"坚不可摧"的地步了（请永远记住没有绝对的安全）。')]),s._v(" "),e("p",[s._v("掌握 SELinux 的基本概念以及简单的配置方法是每个 Linux 系统管理员的必修课。")]),s._v(" "),e("h2",{attrs:{id:"查看selinux状态命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#查看selinux状态命令"}},[s._v("#")]),s._v(" 查看SELinux状态命令")]),s._v(" "),e("h3",{attrs:{id:"sestatus"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sestatus"}},[s._v("#")]),s._v(" sestatus")]),s._v(" "),e("p",[s._v("如果SELinux status参数为enabled即为开启状态")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("div",{staticClass:"custom-style-wrapper window-controls"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),e("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),e("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("/usr/sbin/sestatus -v\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")]),e("CodeResult",{attrs:{lang:"sh",code:"%2Fusr%2Fsbin%2Fsestatus%20-v"}})],1),e("p",[s._v("显示如下：")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("div",{staticClass:"custom-style-wrapper window-controls"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),e("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),e("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("SELinux status: enabled\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")]),e("CodeResult",{attrs:{lang:"sh",code:"SELinux%20status%3A%20enabled"}})],1),e("h3",{attrs:{id:"getenforce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#getenforce"}},[s._v("#")]),s._v(" getenforce")]),s._v(" "),e("p",[s._v("也可以用这个命令检查")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("div",{staticClass:"custom-style-wrapper window-controls"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),e("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),e("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[s._v("getenforce\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")]),e("CodeResult",{attrs:{lang:"sh",code:"getenforce"}})],1),e("h2",{attrs:{id:"关闭selinux方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关闭selinux方法"}},[s._v("#")]),s._v(" 关闭SELinux方法")]),s._v(" "),e("h3",{attrs:{id:"临时关闭-不用重启机器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#临时关闭-不用重启机器"}},[s._v("#")]),s._v(" 临时关闭（不用重启机器）")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("div",{staticClass:"custom-style-wrapper window-controls"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),e("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),e("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置SELinux 成为permissive模式")]),s._v("\nsetenforce "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")]),e("CodeResult",{attrs:{lang:"sh",code:"%23%E8%AE%BE%E7%BD%AESELinux%20%E6%88%90%E4%B8%BApermissive%E6%A8%A1%E5%BC%8F%0Asetenforce%200"}})],1),e("p",[s._v("还原")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("div",{staticClass:"custom-style-wrapper window-controls"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),e("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),e("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置SELinux 成为enforcing模式")]),s._v("\nsetenforce "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")]),e("CodeResult",{attrs:{lang:"sh",code:"%23%E8%AE%BE%E7%BD%AESELinux%20%E6%88%90%E4%B8%BAenforcing%E6%A8%A1%E5%BC%8F%0Asetenforce%201"}})],1),e("h3",{attrs:{id:"修改配置-需重启"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改配置-需重启"}},[s._v("#")]),s._v(" 修改配置（需重启）")]),s._v(" "),e("p",[s._v("修改配置文件需要重启机器, 修改 "),e("code",[s._v("/etc/selinux/config")]),s._v(" 文件.")]),s._v(" "),e("p",[s._v("将 "),e("code",[s._v("SELINUX=enforcing")]),s._v(" 改为:")]),s._v(" "),e("div",{staticClass:"language-sh line-numbers-mode"},[e("div",{staticClass:"custom-style-wrapper window-controls"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),e("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),e("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),e("pre",{pre:!0,attrs:{class:"language-sh"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SELINUX")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("disabled\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")]),e("CodeResult",{attrs:{lang:"sh",code:"SELINUX%3Ddisabled"}})],1),e("p",[s._v("重启机器即可.")])])}),[],!1,null,null,null);t.default=a.exports}}]);