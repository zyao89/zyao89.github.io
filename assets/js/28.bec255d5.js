(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{629:function(s,t,a){s.exports=a.p+"assets/img/encrypt.drawio.2fe98b5d.png"},630:function(s,t,a){s.exports=a.p+"assets/img/decrypt.drawio.eb4f492b.png"},768:function(s,t,a){"use strict";a.r(t);var e=a(10),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"什么是license"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是license"}},[s._v("#")]),s._v(" 什么是License")]),s._v(" "),e("p",[s._v("license 翻译为许可证。理解为协议或版权声明，违反协议的后果就是商业纠纷。用原创作品类比，我发布这篇文章时声明了原创，别人如果要转载这篇文章，要经过我允许，否则就侵犯了我的权益。当然文章的版权与软件版权还是不一样的，不做过多比较。")]),s._v(" "),e("h1",{attrs:{id:"商业许可证与开源许可证"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#商业许可证与开源许可证"}},[s._v("#")]),s._v(" 商业许可证与开源许可证")]),s._v(" "),e("p",[s._v("商业许可证理解为使用该软件的门票，比如要使用 IDEA，你需要付费购买 license。")]),s._v(" "),e("p",[s._v("原创文章，你可以免费看，但不可以抄袭或者用作商业用途。类似的，开源软件，你可以免费使用、修改代码、与别人分享，但有一定的约束，通过开源许可证进行约束，它就像文章原创声明，但比原创声明复杂得多。")]),s._v(" "),e("p",[s._v("开源许可证有很多种类型，包含的内容各不相同，也就是对使用者的约束不一样。比如开源代码如果使用 GPL 协议，那么你就不能将这个代码利用在自己的商业产品中。")]),s._v(" "),e("h1",{attrs:{id:"轻舟-license"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#轻舟-license"}},[s._v("#")]),s._v(" 轻舟 License")]),s._v(" "),e("blockquote",[e("p",[s._v("轻舟 License 功能的具体实现涉及到安全性问题，因此以下部分描述将相对隐晦")])]),s._v(" "),e("p",[s._v("轻舟 License 采用 非对称加密 + 对称加密 的方式。")]),s._v(" "),e("h2",{attrs:{id:"加密"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#加密"}},[s._v("#")]),s._v(" 加密")]),s._v(" "),e("p",[e("img",{attrs:{src:a(629),alt:"加密"}})]),s._v(" "),e("p",[s._v("授权文件采用对称加密的方式先进行加密，然后再用客户独有的私钥进行签名，最后把签名结果+加密内容进行打包处理，其中为了安全性还加入了部分盐值。")]),s._v(" "),e("h2",{attrs:{id:"解密"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解密"}},[s._v("#")]),s._v(" 解密")]),s._v(" "),e("p",[e("img",{attrs:{src:a(630),alt:"解密"}})]),s._v(" "),e("h1",{attrs:{id:"授权限制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#授权限制"}},[s._v("#")]),s._v(" 授权限制")]),s._v(" "),e("p",[s._v("我们采用 yaml 的文件配置格式，对资源和信息进行授权限制，格式大致如下：")]),s._v(" "),e("h2",{attrs:{id:"v1-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v1-版本"}},[s._v("#")]),s._v(" v1 版本")]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("div",{staticClass:"custom-style-wrapper window-controls"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),e("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),e("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 客户")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("customer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" xxxx\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MAC 地址")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("envs")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 模块")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("modules")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 各个模块信息")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日期")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("date")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("created")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token datetime number"}},[s._v("2019-04-26")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("expired")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token datetime number"}},[s._v("2019-05-20")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统用量")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("system_usage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("xxxx_count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br")]),e("CodeResult",{attrs:{lang:"yaml",code:"%23%20%E5%AE%A2%E6%88%B7%0Acustomer%3A%0A%20%20%20%20name%3A%20xxxx%0A%23%20MAC%20%E5%9C%B0%E5%9D%80%0Aenvs%3A%20'*'%0A%23%20%E7%89%88%E6%9C%AC%0Aversion%3A%20'*'%0A%23%20%E6%A8%A1%E5%9D%97%0Amodules%3A%0A%20%20%20%20...%20%23%20%E5%90%84%E4%B8%AA%E6%A8%A1%E5%9D%97%E4%BF%A1%E6%81%AF%0A%23%20%E6%97%A5%E6%9C%9F%0Adate%3A%0A%20%20%20%20created%3A%202019-04-26%0A%20%20%20%20expired%3A%202019-05-20%0A%23%20%E7%B3%BB%E7%BB%9F%E7%94%A8%E9%87%8F%0Asystem_usage%3A%0A%20%20%20%20xxxx_count%3A%2010"}})],1),e("h2",{attrs:{id:"v2-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v2-版本"}},[s._v("#")]),s._v(" v2 版本")]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("div",{staticClass:"custom-style-wrapper window-controls"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"54",height:"14",viewBox:"0 0 54 14"}},[e("g",{attrs:{fill:"none","fill-rule":"evenodd",transform:"translate(1 1)"}},[e("circle",{attrs:{cx:"6",cy:"6",r:"6",fill:"#FF5F56",stroke:"#E0443E","stroke-width":".5"}}),e("circle",{attrs:{cx:"26",cy:"6",r:"6",fill:"#FFBD2E",stroke:"#DEA123","stroke-width":".5"}}),e("circle",{attrs:{cx:"46",cy:"6",r:"6",fill:"#27C93F",stroke:"#1AAB29","stroke-width":".5"}})])])]),e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 客户")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("customer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" xxxx\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# MAC 地址")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("envs")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'*'")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 模块")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("modules")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 各个模块信息")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 日期")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("date")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("created")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token datetime number"}},[s._v("2019-04-26")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 需要取各个模块过期时间最晚的时间进行配置")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("expired")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token datetime number"}},[s._v("2019-05-20")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 系统用量 v1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("system_usage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("xxxx_count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("yyyyy_count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 模块用量限制 v2")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("modules_system_usage")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("key")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" xxx\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("expired")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token datetime number"}},[s._v("2019-05-20")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("xxx_count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("key")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" yyy\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("expired")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token datetime number"}},[s._v("2019-05-20")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("yyy_count")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br")]),e("CodeResult",{attrs:{lang:"yaml",code:"%23%20%E5%AE%A2%E6%88%B7%0Acustomer%3A%0A%20%20%20%20name%3A%20xxxx%0A%23%20MAC%20%E5%9C%B0%E5%9D%80%0Aenvs%3A%20'*'%0A%23%20%E7%89%88%E6%9C%AC%0Aversion%3A%20'*'%0A%23%20%E6%A8%A1%E5%9D%97%0Amodules%3A%0A%20%20%20%20...%20%23%20%E5%90%84%E4%B8%AA%E6%A8%A1%E5%9D%97%E4%BF%A1%E6%81%AF%0A%23%20%E6%97%A5%E6%9C%9F%0Adate%3A%0A%20%20%20%20created%3A%202019-04-26%0A%20%20%20%20%23%20%E9%9C%80%E8%A6%81%E5%8F%96%E5%90%84%E4%B8%AA%E6%A8%A1%E5%9D%97%E8%BF%87%E6%9C%9F%E6%97%B6%E9%97%B4%E6%9C%80%E6%99%9A%E7%9A%84%E6%97%B6%E9%97%B4%E8%BF%9B%E8%A1%8C%E9%85%8D%E7%BD%AE%0A%20%20%20%20expired%3A%202019-05-20%0A%23%20%E7%B3%BB%E7%BB%9F%E7%94%A8%E9%87%8F%20v1%0Asystem_usage%3A%0A%20%20%20%20xxxx_count%3A%2010%0A%20%20%20%20yyyyy_count%3A%2010%0A%23%20%E6%A8%A1%E5%9D%97%E7%94%A8%E9%87%8F%E9%99%90%E5%88%B6%20v2%0Amodules_system_usage%3A%0A%20%20%20%20-%20key%3A%20xxx%0A%20%20%20%20%20%20expired%3A%202019-05-20%0A%20%20%20%20%20%20xxx_count%3A%2020%0A%20%20%20%20-%20key%3A%20yyy%0A%20%20%20%20%20%20expired%3A%202019-05-20%0A%20%20%20%20%20%20yyy_count%3A%2010"}})],1),e("p",[s._v("其中 v2 版本进行模块的独立拆解")]),s._v(" "),e("ul",[e("li",[s._v("新增 "),e("code",[s._v("modules_system_usage")]),s._v("，用于独立限制各个模块用量，其中 "),e("code",[s._v("expired")]),s._v(" 为过期时间（必填）")]),s._v(" "),e("li",[s._v("需注意全局的 "),e("code",[s._v("date.expired")]),s._v("，需要取各个模块过期时间最晚的时间进行配置（重要）")])]),s._v(" "),e("p",[s._v("需要注意，"),e("code",[s._v("modules_system_usage")]),s._v(" 中的 "),e("code",[s._v("key")]),s._v("，需要与 "),e("code",[s._v("modules")]),s._v(" 中的模块保持一致，且最终要与平台的 "),e("code",[s._v("domains")]),s._v(" 配置保持一致")])])}),[],!1,null,null,null);t.default=n.exports}}]);