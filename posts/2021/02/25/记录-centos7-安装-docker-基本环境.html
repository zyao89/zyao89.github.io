<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>记录 CentOS7 安装 Docker 基本环境 | Zyao89&#39;s Blogs</title>
    <meta name="generator" content="VuePress 1.8.3">
    <link rel="icon" href="/favicon.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="description" content="神秘，暂无任何描述">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1" data-auto-meta="true" data-update-meta="true">
    <meta rel="alternate" title="Zyao89&#39;s Blogs" href="https://zyao89.cn/rss.xml" link="alternate" content="rss" data-auto-meta="true" data-update-meta="true">
    <meta property="article:published_time" content="2021-02-25T15:57:01.000Z" data-auto-meta="true" data-update-meta="true">
    <meta property="article:modified_time" content="2023-11-27T11:25:12.671Z" data-auto-meta="true" data-update-meta="true">
    <meta property="og:site_name" content="Zyao89&#39;s Blogs" data-auto-meta="true" data-update-meta="true">
    <meta property="og:title" content="Zyao89&#39;s Blogs" data-auto-meta="true" data-update-meta="true">
    <meta property="og:description" content="神秘，暂无任何描述" data-auto-meta="true" data-update-meta="true">
    <meta property="og:type" content="article" data-auto-meta="true" data-update-meta="true">
    <meta property="og:url" content="https://zyao89.cn/s/37b0afa8.html" data-auto-meta="true" data-update-meta="true">
    <meta name="twitter:title" content="Zyao89&#39;s Blogs" data-auto-meta="true" data-update-meta="true">
    <meta name="twitter:description" content="神秘，暂无任何描述" data-auto-meta="true" data-update-meta="true">
    <meta name="twitter:url" content="https://zyao89.cn/s/37b0afa8.html" data-auto-meta="true" data-update-meta="true">
    <meta name="twitter:card" content="summary_large_image" data-auto-meta="true" data-update-meta="true">
    <meta name="twitter:label1" content="Written by" data-auto-meta="true" data-update-meta="true">
    <meta name="twitter:data2" content="CentOS,Docker" data-auto-meta="true" data-update-meta="true">
    <meta name="twitter:label2" content="Filed under" data-auto-meta="true" data-update-meta="true">
    <meta property="article:tag" content="Docker" data-auto-meta="true" data-update-meta="true">
    <meta name="keywords" content="服务端,CentOS,Docker" data-auto-meta="true" data-update-meta="true">
    <meta name="powerby" content="Micro-App" data-auto-meta="true" data-update-meta="true">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="google-site-verification" content="8sZJLe_q5uzLQR19aq4O6V5Y7YPj-mLjb7b-jlBloNo">
    <meta name="baidu-site-verification" content="D4YhVrZwXf">
    
    <link rel="preload" href="/assets/css/0.styles.bd01dee5.css" as="style"><link rel="preload" href="/assets/js/app.6169d5d9.js" as="script"><link rel="preload" href="/assets/js/1.381a88b1.js" as="script"><link rel="preload" href="/assets/js/17.7be3556f.js" as="script"><link rel="preload" href="/assets/js/7.4cf3e922.js" as="script"><link rel="preload" href="/assets/js/23.b5979579.js" as="script"><link rel="preload" href="/assets/js/25.78ef3fa2.js" as="script"><link rel="prefetch" href="/assets/js/10.6ae44f0d.js"><link rel="prefetch" href="/assets/js/100.ce30b411.js"><link rel="prefetch" href="/assets/js/101.430c2297.js"><link rel="prefetch" href="/assets/js/102.c8909a76.js"><link rel="prefetch" href="/assets/js/103.b9dba89c.js"><link rel="prefetch" href="/assets/js/104.27de0e8c.js"><link rel="prefetch" href="/assets/js/105.b8801b53.js"><link rel="prefetch" href="/assets/js/106.a416b83f.js"><link rel="prefetch" href="/assets/js/107.15d0221f.js"><link rel="prefetch" href="/assets/js/108.ee17e077.js"><link rel="prefetch" href="/assets/js/109.9b8800f9.js"><link rel="prefetch" href="/assets/js/11.54ed8a83.js"><link rel="prefetch" href="/assets/js/110.cb8e98f3.js"><link rel="prefetch" href="/assets/js/111.2ddcd088.js"><link rel="prefetch" href="/assets/js/112.4b546485.js"><link rel="prefetch" href="/assets/js/113.c36d1452.js"><link rel="prefetch" href="/assets/js/114.dae28062.js"><link rel="prefetch" href="/assets/js/115.0ca7de2b.js"><link rel="prefetch" href="/assets/js/116.8dab3bf5.js"><link rel="prefetch" href="/assets/js/117.f4f6c6f1.js"><link rel="prefetch" href="/assets/js/118.86cbf460.js"><link rel="prefetch" href="/assets/js/119.adde92b6.js"><link rel="prefetch" href="/assets/js/12.04cb229a.js"><link rel="prefetch" href="/assets/js/120.73bf71ee.js"><link rel="prefetch" href="/assets/js/121.0f189cac.js"><link rel="prefetch" href="/assets/js/122.5c45dc1c.js"><link rel="prefetch" href="/assets/js/13.5a00df16.js"><link rel="prefetch" href="/assets/js/14.a26fae10.js"><link rel="prefetch" href="/assets/js/15.e9537b9f.js"><link rel="prefetch" href="/assets/js/16.06683abd.js"><link rel="prefetch" href="/assets/js/18.ec51fb25.js"><link rel="prefetch" href="/assets/js/19.488ea1ee.js"><link rel="prefetch" href="/assets/js/20.29ddea1c.js"><link rel="prefetch" href="/assets/js/21.9109ebb0.js"><link rel="prefetch" href="/assets/js/22.9133d4c6.js"><link rel="prefetch" href="/assets/js/24.a6ef82b5.js"><link rel="prefetch" href="/assets/js/26.1219245c.js"><link rel="prefetch" href="/assets/js/27.fe2ae86a.js"><link rel="prefetch" href="/assets/js/28.bec255d5.js"><link rel="prefetch" href="/assets/js/29.010b6565.js"><link rel="prefetch" href="/assets/js/30.97f83566.js"><link rel="prefetch" href="/assets/js/31.6119500d.js"><link rel="prefetch" href="/assets/js/32.46261414.js"><link rel="prefetch" href="/assets/js/33.0d04d42c.js"><link rel="prefetch" href="/assets/js/34.c6f32b75.js"><link rel="prefetch" href="/assets/js/35.0ee096ff.js"><link rel="prefetch" href="/assets/js/36.8f745991.js"><link rel="prefetch" href="/assets/js/37.dfe9efd3.js"><link rel="prefetch" href="/assets/js/38.bec066ef.js"><link rel="prefetch" href="/assets/js/39.b14031d8.js"><link rel="prefetch" href="/assets/js/40.800552a7.js"><link rel="prefetch" href="/assets/js/41.e57d40b9.js"><link rel="prefetch" href="/assets/js/42.7f256ae5.js"><link rel="prefetch" href="/assets/js/43.5a80c8e2.js"><link rel="prefetch" href="/assets/js/44.52e26885.js"><link rel="prefetch" href="/assets/js/45.a42e8e25.js"><link rel="prefetch" href="/assets/js/46.6764b81d.js"><link rel="prefetch" href="/assets/js/47.eaf53807.js"><link rel="prefetch" href="/assets/js/48.14338a4d.js"><link rel="prefetch" href="/assets/js/49.526d110c.js"><link rel="prefetch" href="/assets/js/50.b33cc987.js"><link rel="prefetch" href="/assets/js/51.bbcc75ed.js"><link rel="prefetch" href="/assets/js/52.394ca397.js"><link rel="prefetch" href="/assets/js/53.27695e37.js"><link rel="prefetch" href="/assets/js/54.5ad339f1.js"><link rel="prefetch" href="/assets/js/55.7c915336.js"><link rel="prefetch" href="/assets/js/56.e01cebf5.js"><link rel="prefetch" href="/assets/js/57.1d7fecfe.js"><link rel="prefetch" href="/assets/js/58.ffd7b1b3.js"><link rel="prefetch" href="/assets/js/59.f8db9595.js"><link rel="prefetch" href="/assets/js/60.a5f1c4aa.js"><link rel="prefetch" href="/assets/js/61.b7803c9d.js"><link rel="prefetch" href="/assets/js/62.2ba48c7c.js"><link rel="prefetch" href="/assets/js/63.a865f1ec.js"><link rel="prefetch" href="/assets/js/64.7aa3fc9c.js"><link rel="prefetch" href="/assets/js/65.52d5335b.js"><link rel="prefetch" href="/assets/js/66.cea5fc3f.js"><link rel="prefetch" href="/assets/js/67.2d0f72dc.js"><link rel="prefetch" href="/assets/js/68.777bd562.js"><link rel="prefetch" href="/assets/js/69.71c5f7ec.js"><link rel="prefetch" href="/assets/js/70.1f4316df.js"><link rel="prefetch" href="/assets/js/71.997b8615.js"><link rel="prefetch" href="/assets/js/72.9b8dcbc7.js"><link rel="prefetch" href="/assets/js/73.1b58fd72.js"><link rel="prefetch" href="/assets/js/74.32aa822b.js"><link rel="prefetch" href="/assets/js/75.6bb7df3b.js"><link rel="prefetch" href="/assets/js/76.520f2311.js"><link rel="prefetch" href="/assets/js/77.740ea264.js"><link rel="prefetch" href="/assets/js/78.0c97a8a8.js"><link rel="prefetch" href="/assets/js/79.557ccb7a.js"><link rel="prefetch" href="/assets/js/8.56f0b2e1.js"><link rel="prefetch" href="/assets/js/80.1aa8feae.js"><link rel="prefetch" href="/assets/js/81.8f9a55ed.js"><link rel="prefetch" href="/assets/js/82.6cdf60b1.js"><link rel="prefetch" href="/assets/js/83.29956407.js"><link rel="prefetch" href="/assets/js/84.e92374a3.js"><link rel="prefetch" href="/assets/js/85.6421d767.js"><link rel="prefetch" href="/assets/js/86.4f19d0eb.js"><link rel="prefetch" href="/assets/js/87.3e568c7e.js"><link rel="prefetch" href="/assets/js/88.163feac5.js"><link rel="prefetch" href="/assets/js/89.a4ab5d2b.js"><link rel="prefetch" href="/assets/js/9.b2dc3a8e.js"><link rel="prefetch" href="/assets/js/90.ec038868.js"><link rel="prefetch" href="/assets/js/91.d2368531.js"><link rel="prefetch" href="/assets/js/92.7054f0b3.js"><link rel="prefetch" href="/assets/js/93.029176c6.js"><link rel="prefetch" href="/assets/js/94.0d33f8b6.js"><link rel="prefetch" href="/assets/js/95.8b96ae84.js"><link rel="prefetch" href="/assets/js/96.7bb3a166.js"><link rel="prefetch" href="/assets/js/97.10a3a72c.js"><link rel="prefetch" href="/assets/js/98.4cb6e2ae.js"><link rel="prefetch" href="/assets/js/99.01121ed2.js"><link rel="prefetch" href="/assets/js/icon-svg.c49b1031.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.b053b093.js"><link rel="prefetch" href="/assets/js/vendors~icon-svg.6232fe9b.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.5e89e0f4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.bd01dee5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="navbar-inner"><div class="navbar-crumb"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Zyao89's Blogs</span></a></div> <div class="navbar-action"><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> 首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> <span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91/" class="nav-link link_1A4KpgHx"><!----> 移动开发</a></li><li class="dropdown-item"><!----> <a href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/" class="nav-link link_1A4KpgHx"><!----> 服务端</a></li><li class="dropdown-item"><!----> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" class="nav-link link_1A4KpgHx"><!----> 前端开发</a></li><li class="dropdown-item"><!----> <a href="/categories/%E5%85%B6%E5%AE%83/" class="nav-link link_1A4KpgHx"><!----> 其它</a></li><li class="dropdown-item"><!----> <a href="/categories/%E7%AE%97%E6%B3%95/" class="nav-link link_1A4KpgHx"><!----> 算法</a></li><li class="dropdown-item"><!----> <a href="/categories/%E7%BD%91%E7%BB%9C/" class="nav-link link_1A4KpgHx"><!----> 网络</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> 标签</a></div><div class="nav-item"><a href="/timeline/" class="nav-link link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> 归档</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> <span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://zyao89.cn/rss.xml" target="_blank" rel="noopener noreferrer" class="nav-link external link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> RSS <svg version="1.1" width="12" height="12" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ outbound_2CshRVUf"><use xlink:href=""></use></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zyao89" target="_blank" rel="noopener noreferrer" class="nav-link external link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> GitHub <svg version="1.1" width="12" height="12" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ outbound_2CshRVUf"><use xlink:href=""></use></svg></a></li><li class="dropdown-item"><!----> <a href="mailto:zyao89@gmail.com?subject=[Blogs]关于博客的建议&amp;body=邮件正文, 请认真填写!" class="nav-link external link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> Email <!----></a></li></ul></div></div> <!----></nav></div></div></div></header> <!----> <div class="main-wrapper wrapper_2N9oDuL6"><div class="sidebar-mask"></div> <div class="aside"><aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> 首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> <span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/%E7%A7%BB%E5%8A%A8%E5%BC%80%E5%8F%91/" class="nav-link link_1A4KpgHx"><!----> 移动开发</a></li><li class="dropdown-item"><!----> <a href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF/" class="nav-link link_1A4KpgHx"><!----> 服务端</a></li><li class="dropdown-item"><!----> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" class="nav-link link_1A4KpgHx"><!----> 前端开发</a></li><li class="dropdown-item"><!----> <a href="/categories/%E5%85%B6%E5%AE%83/" class="nav-link link_1A4KpgHx"><!----> 其它</a></li><li class="dropdown-item"><!----> <a href="/categories/%E7%AE%97%E6%B3%95/" class="nav-link link_1A4KpgHx"><!----> 算法</a></li><li class="dropdown-item"><!----> <a href="/categories/%E7%BD%91%E7%BB%9C/" class="nav-link link_1A4KpgHx"><!----> 网络</a></li></ul></div></div><div class="nav-item"><a href="/tags/" class="nav-link link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> 标签</a></div><div class="nav-item"><a href="/timeline/" class="nav-link link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> 归档</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> <span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://zyao89.cn/rss.xml" target="_blank" rel="noopener noreferrer" class="nav-link external link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> RSS <svg version="1.1" width="12" height="12" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ outbound_2CshRVUf"><use xlink:href=""></use></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/zyao89" target="_blank" rel="noopener noreferrer" class="nav-link external link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> GitHub <svg version="1.1" width="12" height="12" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ outbound_2CshRVUf"><use xlink:href=""></use></svg></a></li><li class="dropdown-item"><!----> <a href="mailto:zyao89@gmail.com?subject=[Blogs]关于博客的建议&amp;body=邮件正文, 请认真填写!" class="nav-link external link_1A4KpgHx"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="icon svgIcon_1AbM17xJ"><use xlink:href=""></use></svg> Email <!----></a></li></ul></div></div> <!----></nav> <div class="sidebar-links root_2Q8rAuh1"><div class="sidebar-group"><p class="sidebar-heading"><span>相关推荐</span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/posts/2020/05/13/docker基于pm2制作python运行环境基础镜像.html" class="nav-link sidebar-link link_1A4KpgHx"><!----> Docker基于pm2制作Python运行环境基础镜像</a></li><li><a href="/posts/2020/05/13/docker删除所有none镜像.html" class="nav-link sidebar-link link_1A4KpgHx"><!----> Docker删除所有none镜像</a></li><li><a href="/posts/2020/05/08/k8s批量删除evicted-pods.html" class="nav-link sidebar-link link_1A4KpgHx"><!----> k8s批量删除Evicted Pods</a></li><li><a href="/posts/2021/03/31/修改容器源码使其可以动态操作.html" class="nav-link sidebar-link link_1A4KpgHx"><!----> 修改容器源码使其可以动态操作</a></li><li><a href="/posts/2021/03/29/自建api服务器实现阿里云ddns动态域名更新.html" class="nav-link sidebar-link link_1A4KpgHx"><!----> 自建API服务器实现阿里云DDNS(动态域名)更新</a></li></ul></div></div>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>记录 CentOS7 安装 Docker 基本环境</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#centos7-镜像" class="sidebar-link">CentOS7 镜像</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#安装过程" class="sidebar-link">安装过程</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#安装依赖" class="sidebar-link">安装依赖</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#配置-sbm-支持" class="sidebar-link">配置 SBM 支持</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#关闭防火墙" class="sidebar-link">关闭防火墙</a></li></ul></li><li><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#docker" class="sidebar-link">Docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#安装-2" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#启动" class="sidebar-link">启动</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#开机启动" class="sidebar-link">开机启动</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#docker-换源" class="sidebar-link">Docker 换源</a></li></ul></li><li><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#常用-docker-镜像" class="sidebar-link">常用 Docker 镜像</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#portainer" class="sidebar-link">Portainer</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#speedtest" class="sidebar-link">Speedtest</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#node-red" class="sidebar-link">Node-RED</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#esphome" class="sidebar-link">ESPHome</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#home-assistant" class="sidebar-link">Home-Assistant</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#jellyfin" class="sidebar-link">Jellyfin</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#adguardhome" class="sidebar-link">Adguardhome</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#heimdall" class="sidebar-link">heimdall</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#unifi-controller" class="sidebar-link">unifi-controller</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#tinymediamanager" class="sidebar-link">tinymediamanager</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#transmission" class="sidebar-link">transmission</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#aria2" class="sidebar-link">aria2</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#filebrowser" class="sidebar-link">filebrowser</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#netdata" class="sidebar-link">netdata</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#registry" class="sidebar-link">registry</a></li><li class="sidebar-sub-header"><a href="/posts/2021/02/25/%E8%AE%B0%E5%BD%95-centos7-%E5%AE%89%E8%A3%85-docker-%E5%9F%BA%E6%9C%AC%E7%8E%AF%E5%A2%83.html#私人仓库镜像" class="sidebar-link">私人仓库镜像</a></li></ul></li></ul></section></li></ul> </aside></div> <!----> <div class="main-content content_2RZ9sgU8"><main class="page root_2M_Qi7kG"> <div class="theme-default-content root_2-7WkaDt"><h1 class="title_1j35tYhd">
        记录 CentOS7 安装 Docker 基本环境
        <!----></h1> <div class="rows_1p4yuwM6"><span class="categories_xVucymjQ"><span class="categoriesItem_25QzbJMw">服务端</span></span> <span class="tags_3eRugDkG"><span class="tagItem_BVRgjoUO">CentOS</span><span class="tagItem_BVRgjoUO">Docker</span></span></div> <div class="rows_1p4yuwM6"><span class="author_26qEzl24"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ icon_2cqqjx-o"><use xlink:href=""></use></svg> <span>Zyao89</span></span> <span><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ icon_2cqqjx-o"><use xlink:href=""></use></svg> <span>2021年2月25日星期四 15:57</span></span></div></div> <div role="content" class="theme-default-content content__default content_1Lffc1Nr"><h2 id="centos7-镜像"><a href="#centos7-镜像" class="header-anchor">#</a> CentOS7 镜像</h2> <p><a href="https://mirrors.aliyun.com/centos/?spm=a2c6h.13651104.0.0.16d312b2utc849" target="_blank" rel="noopener noreferrer">aliyun 镜像仓库<svg version="1.1" width="12" height="12" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ outbound_2CshRVUf"><use xlink:href=""></use></svg></a></p> <h3 id="安装过程"><a href="#安装过程" class="header-anchor">#</a> 安装过程</h3> <p>略</p> <h3 id="安装依赖"><a href="#安装依赖" class="header-anchor">#</a> 安装依赖</h3> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>yum -y <span class="token function">install</span> perl gcc gcc-c++ <span class="token function">make</span> cmake kernel kernel-headers kernel-devel net-tools <span class="token function">nano</span> <span class="token function">vim</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="yum -y install perl gcc gcc-c++ make cmake kernel kernel-headers kernel-devel net-tools nano vim" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="配置-sbm-支持"><a href="#配置-sbm-支持" class="header-anchor">#</a> 配置 SBM 支持</h3> <p>远程挂在 Nas 磁盘</p> <h4 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h4> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>yum <span class="token function">install</span> cifs-utils -y
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="yum install cifs-utils -y" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h4 id="配置启动时自动-mount"><a href="#配置启动时自动-mount" class="header-anchor">#</a> 配置启动时自动 mount</h4> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;mount -t cifs //{SMB服务器IP地址}/AppData ~/AppData -o username=docker123,password=docker123,nobrl&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/rc.local

<span class="token comment"># 修改权限</span>
<span class="token function">chmod</span> <span class="token number">755</span> /etc/rc.local
<span class="token function">chmod</span> -R <span class="token number">755</span> /etc/rc.d
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="echo &quot;mount -t cifs //{SMB服务器IP地址}/AppData ~/AppData -o username=docker123,password=docker123,nobrl&quot; &gt;&gt; /etc/rc.local

# 修改权限
chmod 755 /etc/rc.local
chmod -R 755 /etc/rc.d" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h4 id="脚本"><a href="#脚本" class="header-anchor">#</a> 脚本</h4> <p>创建脚本</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token function">mkdir</span> -p ~/logs
<span class="token function">vim</span> ~/mountRemoteDisk.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="mkdir -p ~/logs
vim ~/mountRemoteDisk.sh" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><p>都是内网IP，请自行脑补修改</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#execute mount windows share folder</span>

<span class="token assign-left variable">parm</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">mount</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;/AppData&quot;</span><span class="token variable">)</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$parm</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   mount.nfs4 <span class="token number">10.10</span>.10.10:/mnt/DataStore/AppData ~/AppData  <span class="token operator">&gt;</span> ~/logs/mountAppData.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;AppData has been mounted.&quot;</span>  <span class="token operator">&gt;</span> ~/logs/mountAppData.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">fi</span>

<span class="token assign-left variable">parm1</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">mount</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;/Shared&quot;</span><span class="token variable">)</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$parm1</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   <span class="token function">mount</span> -t cifs //10.10.10.10/Shared ~/Shared -o <span class="token assign-left variable">username</span><span class="token operator">=</span>docker,password<span class="token operator">=</span>docker,nobrl <span class="token operator">&gt;</span> ~/logs/mountShared.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;Shared has been mounted.&quot;</span> <span class="token operator">&gt;</span> ~/logs/mountShared.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">fi</span>

<span class="token assign-left variable">parm2</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">mount</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;/Downloads&quot;</span><span class="token variable">)</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$parm2</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   <span class="token function">mount</span> -t cifs //10.10.10.20/Downloads ~/Downloads -o guest,nobrl <span class="token operator">&gt;</span> ~/logs/mountDownloads.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;Downloads has been mounted.&quot;</span> <span class="token operator">&gt;</span> ~/logs/mountDownloads.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">fi</span>

<span class="token assign-left variable">parm3</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">mount</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;/FTP&quot;</span><span class="token variable">)</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$parm3</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   <span class="token function">mount</span> -t cifs //10.10.10.20/FTP ~/FTP -o guest,nobrl <span class="token operator">&gt;</span> ~/logs/mountFTP.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;FTP has been mounted.&quot;</span> <span class="token operator">&gt;</span> ~/logs/mountFTP.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">fi</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="#!/bin/bash
#execute mount windows share folder

parm=$(mount | grep &quot;/AppData&quot;)
if [ &quot;$parm&quot; == &quot;&quot; ]; then
   mount.nfs4 10.10.10.10:/mnt/DataStore/AppData ~/AppData  &gt; ~/logs/mountAppData.log 2&gt;&amp;1
else
   echo &quot;AppData has been mounted.&quot;  &gt; ~/logs/mountAppData.log 2&gt;&amp;1
fi

parm1=$(mount | grep &quot;/Shared&quot;)
if [ &quot;$parm1&quot; == &quot;&quot; ]; then
   mount -t cifs //10.10.10.10/Shared ~/Shared -o username=docker,password=docker,nobrl &gt; ~/logs/mountShared.log 2&gt;&amp;1
else
   echo &quot;Shared has been mounted.&quot; &gt; ~/logs/mountShared.log 2&gt;&amp;1
fi

parm2=$(mount | grep &quot;/Downloads&quot;)
if [ &quot;$parm2&quot; == &quot;&quot; ]; then
   mount -t cifs //10.10.10.20/Downloads ~/Downloads -o guest,nobrl &gt; ~/logs/mountDownloads.log 2&gt;&amp;1
else
   echo &quot;Downloads has been mounted.&quot; &gt; ~/logs/mountDownloads.log 2&gt;&amp;1
fi

parm3=$(mount | grep &quot;/FTP&quot;)
if [ &quot;$parm3&quot; == &quot;&quot; ]; then
   mount -t cifs //10.10.10.20/FTP ~/FTP -o guest,nobrl &gt; ~/logs/mountFTP.log 2&gt;&amp;1
else
   echo &quot;FTP has been mounted.&quot; &gt; ~/logs/mountFTP.log 2&gt;&amp;1
fi" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><p>增加定时器</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token function">crontab</span> -e

<span class="token comment"># 十分钟运行一次</span>
*/10  *  *  *  * ~/mountRemoteDisk.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="crontab -e

# 十分钟运行一次
*/10  *  *  *  * ~/mountRemoteDisk.sh" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><p>增加开机自动运行脚本</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token comment"># /etc/rc.local</span>
<span class="token function">sh</span> ~/mountRemoteDisk.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="# /etc/rc.local
sh ~/mountRemoteDisk.sh" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="关闭防火墙"><a href="#关闭防火墙" class="header-anchor">#</a> 关闭防火墙</h3> <blockquote><p>关闭防火墙后，服务器不要再暴露到公网上了</p></blockquote> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>systemctl disable firewalld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="systemctl disable firewalld" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h2 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h2> <h3 id="安装-2"><a href="#安装-2" class="header-anchor">#</a> 安装</h3> <p>使用官方安装脚本自动安装</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token comment"># 使用 Shell 脚本进行安装</span>
<span class="token function">curl</span> -fsSL https://get.docker.com <span class="token operator">|</span> <span class="token function">bash</span> -s docker --mirror Aliyun
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="# 使用 Shell 脚本进行安装
curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><p>也可以使用国内 daocloud 一键安装命令：</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token function">curl</span> -sSL https://get.daocloud.io/docker <span class="token operator">|</span> <span class="token function">sh</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="curl -sSL https://get.daocloud.io/docker | sh" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="启动"><a href="#启动" class="header-anchor">#</a> 启动</h3> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>systemctl start docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="systemctl start docker" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="开机启动"><a href="#开机启动" class="header-anchor">#</a> 开机启动</h3> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>systemctl <span class="token builtin class-name">enable</span> docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="systemctl enable docker" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="docker-换源"><a href="#docker-换源" class="header-anchor">#</a> Docker 换源</h3> <blockquote><p>注意：如果拉取速度没问题，可以不用换</p></blockquote> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token comment"># 编辑配置文件</span>
<span class="token function">nano</span> /etc/docker/daemon.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="# 编辑配置文件
nano /etc/docker/daemon.json" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><p>配置文件的内容</p> <div class="language-json line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;registry-mirrors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="{
  &quot;registry-mirrors&quot;: [&quot;https://docker.mirrors.ustc.edu.cn&quot;]
}" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h2 id="常用-docker-镜像"><a href="#常用-docker-镜像" class="header-anchor">#</a> 常用 Docker 镜像</h2> <h3 id="portainer"><a href="#portainer" class="header-anchor">#</a> Portainer</h3> <p>Portainer是一个可视化的容器镜像的图形管理工具，利用Portainer可以轻松构建，管理和维护Docker环境。 而且完全免费，基于容器化的安装方式，方便高效部署。</p> <p><img src="/assets/img/2021-03-19-15-46-11.81fdfc67.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token comment"># 安装 Portainer：</span>
docker run -d -p <span class="token number">9000</span>:9000 -v /var/run/docker.sock:/var/run/docker.sock -v ~/AppData/portainer:/data --name portainer --restart<span class="token operator">=</span>always portainer/portainer
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="# 安装 Portainer：
docker run -d -p 9000:9000 -v /var/run/docker.sock:/var/run/docker.sock -v ~/AppData/portainer:/data --name portainer --restart=always portainer/portainer" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="speedtest"><a href="#speedtest" class="header-anchor">#</a> Speedtest</h3> <p>内网测速</p> <p><img src="/assets/img/2021-03-19-15-47-14.0d9eea00.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token comment"># 安装 Speedtest：</span>
docker run -d -p <span class="token number">6688</span>:80 --restart<span class="token operator">=</span>always --name speedtest ilemonrain/html5-speedtest:alpine
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="# 安装 Speedtest：
docker run -d -p 6688:80 --restart=always --name speedtest ilemonrain/html5-speedtest:alpine" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="node-red"><a href="#node-red" class="header-anchor">#</a> Node-RED</h3> <p>Node-RED是一种基于Node.js的编程工具，用于以新颖有趣的方式将硬件设备，API和在线服务连接在一起。它提供了一个基于浏览器的编辑器，可以使用调色板中的各种节点轻松地将流连接在一起，只需单击即可将其部署到运行时。</p> <p><img src="/assets/img/2021-03-19-15-47-44.2d434f98.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d --restart<span class="token operator">=</span>always --name<span class="token operator">=</span><span class="token string">&quot;nodered&quot;</span> -p <span class="token number">1880</span>:1880 nodered/node-red:latest-minimal
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d --restart=always --name=&quot;nodered&quot; -p 1880:1880 nodered/node-red:latest-minimal" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="esphome"><a href="#esphome" class="header-anchor">#</a> ESPHome</h3> <p>ESP8266 系列开发框架，通过配置实现简单的 IOT</p> <p><img src="/assets/img/2021-03-19-15-48-10.b79ce0c4.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d <span class="token punctuation">\</span>
    -p <span class="token number">6052</span>:6052 <span class="token punctuation">\</span>
    --name<span class="token operator">=</span><span class="token string">&quot;ESPHome&quot;</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span>
    --hostname<span class="token operator">=</span><span class="token string">&quot;esphome&quot;</span> <span class="token punctuation">\</span>
    -v ~/AppData/esphome:/config <span class="token punctuation">\</span>
    -v /run/udev:/run/udev <span class="token punctuation">\</span>
    --privileged <span class="token punctuation">\</span>
    --restart unless-stopped <span class="token punctuation">\</span>
    esphome/esphome
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d \
    -p 6052:6052 \
    --name=&quot;ESPHome&quot; \
    -e TZ=Asia/Shanghai \
    --hostname=&quot;esphome&quot; \
    -v ~/AppData/esphome:/config \
    -v /run/udev:/run/udev \
    --privileged \
    --restart unless-stopped \
    esphome/esphome" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="home-assistant"><a href="#home-assistant" class="header-anchor">#</a> Home-Assistant</h3> <p>Home Assistant 是一款基于 Python 的智能家居开源系统，支持众多品牌的智能家居设备，可以轻松实现设备的语音控制、自动化等。</p> <p><img src="/assets/img/2021-03-19-15-48-33.38337d5a.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d <span class="token punctuation">\</span>
--name<span class="token operator">=</span>home_assistant <span class="token punctuation">\</span>
-e <span class="token assign-left variable">TZ</span><span class="token operator">=</span><span class="token string">&quot;Asia/Shanghai&quot;</span> <span class="token punctuation">\</span>
-v ~/AppData/homeassistant:/config <span class="token punctuation">\</span>
-v /dev/bus/usb:/dev/bus/usb <span class="token punctuation">\</span>
-v /var/run/dbus:/var/run/dbus <span class="token punctuation">\</span>
-v /etc/localtime:/etc/localtime:ro <span class="token punctuation">\</span>
--net<span class="token operator">=</span>host <span class="token punctuation">\</span>
--privileged <span class="token punctuation">\</span>
--restart always <span class="token punctuation">\</span>
homeassistant/home-assistant:stable
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d \
--name=home_assistant \
-e TZ=&quot;Asia/Shanghai&quot; \
-v ~/AppData/homeassistant:/config \
-v /dev/bus/usb:/dev/bus/usb \
-v /var/run/dbus:/var/run/dbus \
-v /etc/localtime:/etc/localtime:ro \
--net=host \
--privileged \
--restart always \
homeassistant/home-assistant:stable" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="jellyfin"><a href="#jellyfin" class="header-anchor">#</a> Jellyfin</h3> <p>开源的家庭影音中心</p> <p><img src="/assets/img/2021-03-19-15-49-17.3eca5f64.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d <span class="token punctuation">\</span>
    --name jellyfin <span class="token punctuation">\</span>
    --user <span class="token environment constant">$UID</span><span class="token builtin class-name">:</span><span class="token variable">$GID</span> <span class="token punctuation">\</span>
    -p <span class="token number">8096</span>:8096 <span class="token punctuation">\</span>
    -p <span class="token number">8920</span>:8920 <span class="token punctuation">\</span>
    -p <span class="token number">7359</span>:7359/udp <span class="token punctuation">\</span>
    -p <span class="token number">1900</span>:1900/udp <span class="token punctuation">\</span>
    --volume ~/AppData/jellyfin/config:/config <span class="token punctuation">\</span>
    --volume ~/AppData/jellyfin/cache:/cache <span class="token punctuation">\</span>
    --volume ~/Shared/Movies:/media <span class="token punctuation">\</span>
    --volume ~/Shared/Movies:/data/movies <span class="token punctuation">\</span>
    --volume ~/Shared/TVSeries:/data/tvshows <span class="token punctuation">\</span>
    --device /dev/dri:/dev/dri <span class="token punctuation">\</span>
    --restart<span class="token operator">=</span>unless-stopped <span class="token punctuation">\</span>
    jellyfin/jellyfin
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d \
    --name jellyfin \
    --user $UID:$GID \
    -p 8096:8096 \
    -p 8920:8920 \
    -p 7359:7359/udp \
    -p 1900:1900/udp \
    --volume ~/AppData/jellyfin/config:/config \
    --volume ~/AppData/jellyfin/cache:/cache \
    --volume ~/Shared/Movies:/media \
    --volume ~/Shared/Movies:/data/movies \
    --volume ~/Shared/TVSeries:/data/tvshows \
    --device /dev/dri:/dev/dri \
    --restart=unless-stopped \
    jellyfin/jellyfin" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="adguardhome"><a href="#adguardhome" class="header-anchor">#</a> Adguardhome</h3> <p>自建DNS广告拦截器</p> <p><img src="/assets/img/2021-03-19-15-54-23.e8081e7e.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run --name adguardhome <span class="token punctuation">\</span>
    -v ~/AppData/adguardhome/workdir:/opt/adguardhome/work <span class="token punctuation">\</span>
    -v ~/AppData/adguardhome/confdir:/opt/adguardhome/conf <span class="token punctuation">\</span>
    -p <span class="token number">53</span>:53/tcp -p <span class="token number">53</span>:53/udp <span class="token punctuation">\</span>
    -p <span class="token number">5380</span>:80/tcp -p <span class="token number">5381</span>:3000/tcp <span class="token punctuation">\</span>
    -p <span class="token number">4467</span>:67/udp -p <span class="token number">4468</span>:68/tcp -p <span class="token number">4468</span>:68/udp <span class="token punctuation">\</span>
    -p <span class="token number">5343</span>:443/tcp <span class="token punctuation">\</span>
    -p <span class="token number">853</span>:853/tcp <span class="token punctuation">\</span>
    -p <span class="token number">784</span>:784/udp <span class="token punctuation">\</span>
    -p <span class="token number">5443</span>:5443/tcp -p <span class="token number">5443</span>:5443/udp <span class="token punctuation">\</span>
    --restart unless-stopped <span class="token punctuation">\</span>
    -d adguard/adguardhome
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run --name adguardhome \
    -v ~/AppData/adguardhome/workdir:/opt/adguardhome/work \
    -v ~/AppData/adguardhome/confdir:/opt/adguardhome/conf \
    -p 53:53/tcp -p 53:53/udp \
    -p 5380:80/tcp -p 5381:3000/tcp \
    -p 4467:67/udp -p 4468:68/tcp -p 4468:68/udp \
    -p 5343:443/tcp \
    -p 853:853/tcp \
    -p 784:784/udp \
    -p 5443:5443/tcp -p 5443:5443/udp \
    --restart unless-stopped \
    -d adguard/adguardhome" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="heimdall"><a href="#heimdall" class="header-anchor">#</a> heimdall</h3> <p>最好用的地址导航</p> <p><img src="/assets/img/2021-03-19-15-54-42.a69df006.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d <span class="token punctuation">\</span>
    --name<span class="token operator">=</span>heimdall <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token environment constant">$UID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token variable">$GID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span><span class="token string">&quot;Asia/Shanghai&quot;</span> <span class="token punctuation">\</span>
    -p <span class="token number">80</span>:80 <span class="token punctuation">\</span>
    -p <span class="token number">443</span>:443 <span class="token punctuation">\</span>
    -v ~/AppData/heimdall:/config <span class="token punctuation">\</span>
    --restart unless-stopped <span class="token punctuation">\</span>
    zyao89/heimdall
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d \
    --name=heimdall \
    -e PUID=$UID \
    -e PGID=$GID \
    -e TZ=&quot;Asia/Shanghai&quot; \
    -p 80:80 \
    -p 443:443 \
    -v ~/AppData/heimdall:/config \
    --restart unless-stopped \
    zyao89/heimdall" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="unifi-controller"><a href="#unifi-controller" class="header-anchor">#</a> unifi-controller</h3> <p>unifi-controller 路由控制器</p> <p><img src="/assets/img/2021-03-19-15-56-26.c261c6f6.png" alt=""></p> <blockquote><p>此操作可能找不到设备，需要通过 <code>Ubiquiti Device Discovery Tool</code> 工具查找并修改 <code>set-inform</code> 地址<br>
set-inform http://x.x.x.x:8080/inform</p></blockquote> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d <span class="token punctuation">\</span>
    --name<span class="token operator">=</span>unifi-controller <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token environment constant">$UID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token variable">$GID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">MEM_LIMIT</span><span class="token operator">=</span>1024M <span class="token punctuation">\</span>
    -p <span class="token number">3478</span>:3478/udp <span class="token punctuation">\</span>
    -p <span class="token number">10001</span>:10001/udp <span class="token punctuation">\</span>
    -p <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
    -p <span class="token number">8443</span>:8443 <span class="token punctuation">\</span>
    -p <span class="token number">8843</span>:8843 <span class="token punctuation">\</span>
    -p <span class="token number">8880</span>:8880 <span class="token punctuation">\</span>
    -p <span class="token number">6789</span>:6789 <span class="token punctuation">\</span>
    -v ~/AppData/unifi-controller:/config <span class="token punctuation">\</span>
    --restart unless-stopped <span class="token punctuation">\</span>
    linuxserver/unifi-controller
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d \
    --name=unifi-controller \
    -e PUID=$UID \
    -e PGID=$GID \
    -e MEM_LIMIT=1024M \
    -p 3478:3478/udp \
    -p 10001:10001/udp \
    -p 8080:8080 \
    -p 8443:8443 \
    -p 8843:8843 \
    -p 8880:8880 \
    -p 6789:6789 \
    -v ~/AppData/unifi-controller:/config \
    --restart unless-stopped \
    linuxserver/unifi-controller" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="tinymediamanager"><a href="#tinymediamanager" class="header-anchor">#</a> tinymediamanager</h3> <p>自动收集影音资源图片，并且可以整理文件夹等</p> <p><img src="/assets/img/2021-03-19-15-56-58.de40d80d.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d --name<span class="token operator">=</span>tinymediamanager <span class="token punctuation">\</span>
    -v ~/AppData/tinymediamanager/config:/config <span class="token punctuation">\</span>
    -v ~/Shared/Movies:/media <span class="token punctuation">\</span>
    -v ~/Shared/Movies:/data/movies <span class="token punctuation">\</span>
    -v ~/Shared/TVSeries:/data/tvshows <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">GROUP_ID</span><span class="token operator">=</span><span class="token number">0</span> -e <span class="token assign-left variable">USER_ID</span><span class="token operator">=</span><span class="token number">0</span> -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span><span class="token string">&quot;Asia/Shanghai&quot;</span> <span class="token punctuation">\</span>
    -p <span class="token number">5800</span>:5800 <span class="token punctuation">\</span>
    -p <span class="token number">5900</span>:5900 <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">ENABLE_CJK_FONT</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">KEEP_APP_RUNNING</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
    romancin/tinymediamanager:latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d --name=tinymediamanager \
    -v ~/AppData/tinymediamanager/config:/config \
    -v ~/Shared/Movies:/media \
    -v ~/Shared/Movies:/data/movies \
    -v ~/Shared/TVSeries:/data/tvshows \
    -e GROUP_ID=0 -e USER_ID=0 -e TZ=&quot;Asia/Shanghai&quot; \
    -p 5800:5800 \
    -p 5900:5900 \
    -e ENABLE_CJK_FONT=1 \
    -e KEEP_APP_RUNNING=1 \
    romancin/tinymediamanager:latest" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><p>可以通过定时任务触发脚本，自动整理</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token comment"># 定时脚本任务</span>
docker run --rm --name<span class="token operator">=</span>tinymediamanagerscript <span class="token punctuation">\</span>
    -v ~/AppData/tinymediamanager/config:/config <span class="token punctuation">\</span>
    -v ~/Shared/Movies:/media <span class="token punctuation">\</span>
    -v ~/Shared/Movies:/data/movies <span class="token punctuation">\</span>
    -v ~/Shared/TVSeries:/data/tvshows <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">GROUP_ID</span><span class="token operator">=</span><span class="token number">0</span> -e <span class="token assign-left variable">USER_ID</span><span class="token operator">=</span><span class="token number">0</span> -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span><span class="token string">&quot;Asia/Shanghai&quot;</span> <span class="token punctuation">\</span>
    romancin/tinymediamanager:develop /config/tinyMediaManagerCMD.sh -updateMovies -scrapeNew
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="# 定时脚本任务
docker run --rm --name=tinymediamanagerscript \
    -v ~/AppData/tinymediamanager/config:/config \
    -v ~/Shared/Movies:/media \
    -v ~/Shared/Movies:/data/movies \
    -v ~/Shared/TVSeries:/data/tvshows \
    -e GROUP_ID=0 -e USER_ID=0 -e TZ=&quot;Asia/Shanghai&quot; \
    romancin/tinymediamanager:develop /config/tinyMediaManagerCMD.sh -updateMovies -scrapeNew" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="transmission"><a href="#transmission" class="header-anchor">#</a> transmission</h3> <p>下载神器</p> <p><img src="/assets/img/2021-03-19-15-57-18.8b49bc68.png" alt=""></p> <div class="language- line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-text"><code>docker run -d \
    --name=transmission \
    -e PUID=$UID \
    -e PGID=$GID \
    -e TZ=Asia/Shanghai \
    -e WHITELIST=10.10.10.99 \
    -p 9091:9091 \
    -p 51413:51413 \
    -p 51413:51413/udp \
    -v ~/AppData/transmission/config:/config \
    -v ~/AppData/transmission/watch:/watch \
    -v ~/Downloads/transmission:/downloads \
    --restart unless-stopped \
    linuxserver/transmission
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d \
    --name=transmission \
    -e PUID=$UID \
    -e PGID=$GID \
    -e TZ=Asia/Shanghai \
    -e WHITELIST=10.10.10.99 \
    -p 9091:9091 \
    -p 51413:51413 \
    -p 51413:51413/udp \
    -v ~/AppData/transmission/config:/config \
    -v ~/AppData/transmission/watch:/watch \
    -v ~/Downloads/transmission:/downloads \
    --restart unless-stopped \
    linuxserver/transmission" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="aria2"><a href="#aria2" class="header-anchor">#</a> aria2</h3> <p>下载工具</p> <p><img src="/assets/img/2021-03-19-15-57-39.487bcf95.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d <span class="token punctuation">\</span>
    --name aria2-pro <span class="token punctuation">\</span>
    -p <span class="token number">6800</span>:6800 <span class="token punctuation">\</span>
    -p <span class="token number">6888</span>:6888 <span class="token punctuation">\</span>
    -p <span class="token number">6888</span>:6888/udp <span class="token punctuation">\</span>
    --restart unless-stopped <span class="token punctuation">\</span>
    --log-opt max-size<span class="token operator">=</span>1m <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token environment constant">$UID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token variable">$GID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">RPC_SECRET</span><span class="token operator">=</span><span class="token number">1234567</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">RPC_PORT</span><span class="token operator">=</span><span class="token number">6800</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">LISTEN_PORT</span><span class="token operator">=</span><span class="token number">6888</span> <span class="token punctuation">\</span>
    -v ~/AppData/aria2/config:/config <span class="token punctuation">\</span>
    -v ~/Downloads/aria2:/downloads <span class="token punctuation">\</span>
    p3terx/aria2-pro
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d \
    --name aria2-pro \
    -p 6800:6800 \
    -p 6888:6888 \
    -p 6888:6888/udp \
    --restart unless-stopped \
    --log-opt max-size=1m \
    -e PUID=$UID \
    -e PGID=$GID \
    -e RPC_SECRET=1234567 \
    -e RPC_PORT=6800 \
    -e LISTEN_PORT=6888 \
    -v ~/AppData/aria2/config:/config \
    -v ~/Downloads/aria2:/downloads \
    p3terx/aria2-pro" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token comment"># 前端 web ui</span>
docker run -d <span class="token punctuation">\</span>
    --name aria2-ui <span class="token punctuation">\</span>
    --restart unless-stopped <span class="token punctuation">\</span>
    --log-opt max-size<span class="token operator">=</span>1m <span class="token punctuation">\</span>
    -p <span class="token number">6880</span>:6880 <span class="token punctuation">\</span>
    p3terx/ariang
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="# 前端 web ui
docker run -d \
    --name aria2-ui \
    --restart unless-stopped \
    --log-opt max-size=1m \
    -p 6880:6880 \
    p3terx/ariang" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="filebrowser"><a href="#filebrowser" class="header-anchor">#</a> filebrowser</h3> <p>文件管理器</p> <p><img src="/assets/img/2021-03-19-15-58-06.5f666aff.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d <span class="token punctuation">\</span>
    --name filebrowser <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token environment constant">$UID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token variable">$GID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span>
    -v ~/FTP:/srv <span class="token punctuation">\</span>
    -p <span class="token number">10086</span>:80 <span class="token punctuation">\</span>
    filebrowser/filebrowser
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d \
    --name filebrowser \
    -e PUID=$UID \
    -e PGID=$GID \
    -e TZ=Asia/Shanghai \
    -v ~/FTP:/srv \
    -p 10086:80 \
    filebrowser/filebrowser" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><blockquote><p>注意，需要先运行，再修改 <code>volume</code> 映射文件</p></blockquote> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d <span class="token punctuation">\</span>
    --name filebrowser <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token environment constant">$UID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token variable">$GID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span>
    -v ~/FTP:/srv <span class="token punctuation">\</span>
    -v ~/AppData/filebrowser/custom:/custom <span class="token punctuation">\</span>
    -v ~/AppData/filebrowser/database.db:/database.db <span class="token punctuation">\</span>
    -v ~/AppData/filebrowser/filebrowser.json:/.filebrowser.json <span class="token punctuation">\</span>
    -p <span class="token number">10086</span>:80 <span class="token punctuation">\</span>
    --restart unless-stopped <span class="token punctuation">\</span>
    filebrowser/filebrowser
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d \
    --name filebrowser \
    -e PUID=$UID \
    -e PGID=$GID \
    -e TZ=Asia/Shanghai \
    -v ~/FTP:/srv \
    -v ~/AppData/filebrowser/custom:/custom \
    -v ~/AppData/filebrowser/database.db:/database.db \
    -v ~/AppData/filebrowser/filebrowser.json:/.filebrowser.json \
    -p 10086:80 \
    --restart unless-stopped \
    filebrowser/filebrowser" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="netdata"><a href="#netdata" class="header-anchor">#</a> netdata</h3> <p>监控，可以监控 docker 容器状态</p> <p><img src="/assets/img/2021-03-19-15-58-43.68d8eea9.png" alt=""></p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d --name<span class="token operator">=</span>netdata <span class="token punctuation">\</span>
    -p <span class="token number">19999</span>:19999 <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PUID</span><span class="token operator">=</span><span class="token environment constant">$UID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">PGID</span><span class="token operator">=</span><span class="token variable">$GID</span> <span class="token punctuation">\</span>
    -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Shanghai <span class="token punctuation">\</span>
    -v /proc:/host/proc:ro <span class="token punctuation">\</span>
    -v /sys:/host/sys:ro <span class="token punctuation">\</span>
    -v /var/run/docker.sock:/var/run/docker.sock:ro <span class="token punctuation">\</span>
    --cap-add SYS_PTRACE <span class="token punctuation">\</span>
    --security-opt <span class="token assign-left variable">apparmor</span><span class="token operator">=</span>unconfined <span class="token punctuation">\</span>
    --restart unless-stopped <span class="token punctuation">\</span>
    titpetric/netdata
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d --name=netdata \
    -p 19999:19999 \
    -e PUID=$UID \
    -e PGID=$GID \
    -e TZ=Asia/Shanghai \
    -v /proc:/host/proc:ro \
    -v /sys:/host/sys:ro \
    -v /var/run/docker.sock:/var/run/docker.sock:ro \
    --cap-add SYS_PTRACE \
    --security-opt apparmor=unconfined \
    --restart unless-stopped \
    titpetric/netdata" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="registry"><a href="#registry" class="header-anchor">#</a> registry</h3> <p>自定义镜像仓库</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d --name registry -p <span class="token number">5000</span>:5000 -v ~/AppData/registry:/var/lib/registry --restart<span class="token operator">=</span>always registry:latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d --name registry -p 5000:5000 -v ~/AppData/registry:/var/lib/registry --restart=always registry:latest" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h3 id="私人仓库镜像"><a href="#私人仓库镜像" class="header-anchor">#</a> 私人仓库镜像</h3> <h4 id="配置私人仓库地址"><a href="#配置私人仓库地址" class="header-anchor">#</a> 配置私人仓库地址</h4> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code><span class="token function">vim</span> /etc/docker/daemon.json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="vim /etc/docker/daemon.json" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><p>配置以下内容</p> <div class="language-json line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;insecure-registries&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;docker.local:5000&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;registry-mirrors&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;https://registry.docker-cn.com&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;http://hub-mirror.c.163.com&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;https://docker.mirrors.ustc.edu.cn&quot;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="{
    &quot;insecure-registries&quot;: [&quot;docker.local:5000&quot;],
    &quot;registry-mirrors&quot;: [
      &quot;https://registry.docker-cn.com&quot;,
      &quot;http://hub-mirror.c.163.com&quot;,
      &quot;https://docker.mirrors.ustc.edu.cn&quot;
    ]
}" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><blockquote><p>重启 docker</p></blockquote> <h4 id="static-server-私有"><a href="#static-server-私有" class="header-anchor">#</a> STATIC_SERVER（私有）</h4> <p>简单的静态服务器</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d --name STATIC_SERVER -p <span class="token number">1314</span>:1314 -v ~/AppData/STATIC_SERVER:/home/project/root --restart<span class="token operator">=</span>unless-stopped docker.local:5000/static_server:latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d --name STATIC_SERVER -p 1314:1314 -v ~/AppData/STATIC_SERVER:/home/project/root --restart=unless-stopped docker.local:5000/static_server:latest" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div><h4 id="c2v-私有"><a href="#c2v-私有" class="header-anchor">#</a> C2V（私有）</h4> <p>私人工作台</p> <div class="language-sh line-numbers-mode"><div class="custom-style-wrapper window-controls"><svg xmlns="http://www.w3.org/2000/svg" width="54" height="14" viewBox="0 0 54 14"><g fill="none" fill-rule="evenodd" transform="translate(1 1)"><circle cx="6" cy="6" r="6" fill="#FF5F56" stroke="#E0443E" stroke-width=".5"></circle><circle cx="26" cy="6" r="6" fill="#FFBD2E" stroke="#DEA123" stroke-width=".5"></circle><circle cx="46" cy="6" r="6" fill="#27C93F" stroke="#1AAB29" stroke-width=".5"></circle></g></svg></div><pre class="language-sh"><code>docker run -d --name C2V -p <span class="token number">1234</span>:1234 -v ~/AppData/C2V_DB:/home/project/database --restart<span class="token operator">=</span>unless-stopped docker.local:5000/canvas-to-video:latest
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div><div class="root_1HZXd69d"><div class="head_2UeprHVY"><div class="tools_1YHFaVS4"><!----> <span data-clipboard-text="docker run -d --name C2V -p 1234:1234 -v ~/AppData/C2V_DB:/home/project/database --restart=unless-stopped docker.local:5000/canvas-to-video:latest" class="icon_4QTKitRM"><svg version="1.1" width="14" height="14" viewBox="0 0 0 0" class="svgIcon_1AbM17xJ"><use xlink:href=""></use></svg></span> <!----></div></div> <!----></div></div></div> <div class="root_1qgPDpgW"><div><span>作者：</span> <span>Zyao89；</span> <span>转载请保留</span></div> <div><span>版权声明：</span> <span>自由转载-非商用-非衍生-保持署名</span></div> <div><span>原文地址：</span> <a target="_blank" href="https://zyao89.cn/s/37b0afa8.html">https://zyao89.cn/s/37b0afa8.html</a></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次编辑时间:</span> <span class="time">2023年11月27日星期一 11:18</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/posts/2021/03/29/自建api服务器实现阿里云ddns动态域名更新.html" class="prev">
        自建API服务器实现阿里云DDNS(动态域名)更新
      </a></span> <span class="next"><a href="/posts/2020/07/20/http状态码对照表.html">
        HTTP状态码对照表
      </a>
      →
    </span></p></div>  <div type="vssue" class="theme-default-content root_2fUnO8Ia"><!----></div></main></div></div> <!----></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/app.6169d5d9.js" defer></script><script src="/assets/js/1.381a88b1.js" defer></script><script src="/assets/js/17.7be3556f.js" defer></script><script src="/assets/js/7.4cf3e922.js" defer></script><script src="/assets/js/23.b5979579.js" defer></script><script src="/assets/js/25.78ef3fa2.js" defer></script>
  </body>
</html>
